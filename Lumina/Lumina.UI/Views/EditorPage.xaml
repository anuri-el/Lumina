<Page x:Class="Lumina.UI.Views.EditorPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:Lumina.UI.ViewModels"
        xmlns:local="clr-namespace:Lumina.UI.Views"
        mc:Ignorable="d"
        Title="EditorPage" Height="600" Width="900">
    <Grid Background="#eeeeee">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Панель інструментів -->
        <StackPanel Background="#2d2d30" Grid.Column="0" Margin="0,0,5,0">
            <TextBlock Text="Lumina Editor" FontWeight="Bold" Foreground="White" 
                       FontSize="18" Margin="10" HorizontalAlignment="Center"/>

            <Separator Background="#555" Margin="5"/>

            <TextBlock Text="File" FontWeight="Bold" Foreground="#999" Margin="10,10,10,5"/>
            <Button Content="📁 Open Image" Command="{Binding Tools.OpenImageCommand}" 
                    Height="35" Margin="10,0" Background="#007acc" Foreground="White" 
                    FontWeight="SemiBold"/>
            <Button Content="💾 Save" Command="{Binding Tools.SaveCommand}" 
                    Height="35" Margin="10,5"/>

            <Separator Background="#555" Margin="5,10"/>

            <TextBlock Text="Transform" FontWeight="Bold" Foreground="#999" Margin="10,5,10,5"/>
            <Button Content="🔄 Rotate" Command="{Binding Tools.RotateCommand}" 
                    Height="30" Margin="10,0"/>
            <Button Content="🔍 Scale" Command="{Binding Tools.ScaleCommand}" 
                    Height="30" Margin="10,5"/>

            <Separator Background="#555" Margin="5,10"/>

            <TextBlock Text="States" FontWeight="Bold" Foreground="#999" Margin="10,5,10,5"/>
            <Button Content="Normal" Click="Normal_Click" Height="30" Margin="10,0"/>
            <Button Content="Edit" Click="Edit_Click" Height="30" Margin="10,5"/>
            <Button Content="Preview" Click="Preview_Click" Height="30" Margin="10,5"/>

            <Separator Background="#555" Margin="5,10"/>

            <TextBlock Text="Effects" FontWeight="Bold" Foreground="#999" Margin="10,5,10,5"/>
            <Button Content="✨ Blur" Command="{Binding Layers.ApplyBlurCommand}" 
                    Height="30" Margin="10,0"/>
            <Button Content="⚫ Grayscale" Command="{Binding Layers.ApplyGrayscaleCommand}" 
                    Height="30" Margin="10,5"/>
            <Button Content="🟤 Sepia" Command="{Binding Layers.ApplySepiaCommand}" 
                    Height="30" Margin="10,5"/>

            <Separator Background="#555" Margin="5,10"/>

            <TextBlock Text="History" FontWeight="Bold" Foreground="#999" Margin="10,5,10,5"/>
            <Button Content="↶ Undo" Click="Undo_Click" Height="30" Margin="10,0"/>
            <Button Content="↷ Redo" Click="Redo_Click" Height="30" Margin="10,5"/>
        </StackPanel>

        <!-- Робоча область -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="150"/>
            </Grid.RowDefinitions>

            <!-- Інформаційна панель -->
            <Border Grid.Row="0" Background="#3e3e42" BorderBrush="#555" BorderThickness="0,0,0,1">
                <TextBlock x:Name="InfoText" Text="Ready to create collage" 
                           Foreground="White" VerticalAlignment="Center" 
                           Margin="15,0" FontSize="14"/>
            </Border>

            <!-- Canvas для колажу -->
            <Border Grid.Row="1" Background="White" BorderBrush="#ccc" BorderThickness="1" Margin="5">
                <Canvas x:Name="MainCanvas" Background="#f5f5f5">
                    <!-- Зображення будуть додаватися сюди динамічно -->
                </Canvas>
            </Border>

            <!-- Панель логів -->
            <Border Grid.Row="2" Background="#1e1e1e" BorderBrush="#555" BorderThickness="0,1,0,0" Margin="5,0,5,5">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Activity Log" Grid.Row="0" Foreground="#999" 
                               Margin="10,5" FontWeight="SemiBold"/>

                    <ListBox x:Name="LogBox" Grid.Row="1" Background="#1e1e1e" 
                             Foreground="#dcdcdc" BorderThickness="0" 
                             ScrollViewer.HorizontalScrollBarVisibility="Auto"
                             ScrollViewer.VerticalScrollBarVisibility="Auto"
                             Margin="5"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Page>